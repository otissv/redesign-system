'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var parser = require('@babel/parser');
var traverse = _interopDefault(require('@babel/traverse'));

const valueFromTraverse = (condition, predicate = p => p) => (code) => {
    let value = '';
    const ast = parser.parse(code, { plugins: ['jsx'] });
    traverse(ast, {
        enter(path) {
            if (condition(path)) {
                value = predicate(path);
                path.stop();
                return;
            }
        },
    });
    return value;
};
const codeFromNode = (condition) => (code) => valueFromTraverse(condition, p => code.slice(p.node.start, p.node.end))(code);

exports.codeFromNode = codeFromNode;
exports.valueFromTraverse = valueFromTraverse;
