{"version":3,"sources":["/mnt/Storage/Projects/redesign/src/Flex/flex.theme.ts","/mnt/Storage/Projects/redesign/src/Flex/Flex.tsx","/mnt/Storage/Projects/redesign/src/Flex/index.ts","/mnt/Storage/Projects/redesign/src/reusable/router/Link.tsx","/mnt/Storage/Projects/redesign/src/reusable/router/Router.tsx","/mnt/Storage/Projects/redesign/src/reusable/router/RouterContext.tsx","/mnt/Storage/Projects/redesign/src/reusable/router/router.example.tsx","/mnt/Storage/Projects/redesign/src/reusable/router/RouterProvider.tsx","/mnt/Storage/Projects/redesign/src/reusable/router/router.mdx"],"names":["flexTheme","_ref","alignItems","basis","display","grow","justifyContent","shrink","wrap","concat","kebabCase","flexWrap","flexDirectionTheme","_ref2","direction","flexDirection","Flex","React","memo","children","_ref$className","className","_ref$themed","themed","propsRest","Object","objectWithoutProperties","classNames","useMemo","_themed","toConsumableArray","react_default","a","createElement","Base","assign","_Flex__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","d","__webpack_exports__","Link","onClick","to","onEnter","_mnt_Storage_Projects_redesign_node_modules_docz_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","_useRouter","useRouter","route","dispatch","handleClick","useCallback","e","preventDefault","type","react__WEBPACK_IMPORTED_MODULE_1___default","_Base__WEBPACK_IMPORTED_MODULE_3__","as","href","tabIndex","Router","_ref$routes","routes","routesProp","flattenRoutes","parent","reduce","accumulator","_mnt_Storage_Projects_redesign_node_modules_docz_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","_mnt_Storage_Projects_redesign_node_modules_docz_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","component","history","params","Component","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","item","value","match","RouteParser","path","err","routeContext","react__WEBPACK_IMPORTED_MODULE_3___default","RouterContext","react__WEBPACK_IMPORTED_MODULE_0__","n","createContext","useContext","Users","lazy","then","bind","props","RouterProvider","_ref$active","active","window","location","pathname","_useReducer","useReducer","state","action","slice","length","_useReducer2","slicedToArray","useEffect","addEventListener","currentTarget","pushState","context","Provider","layoutProps","MDXLayout","MDXContent","components","index_es","mdxType","id","ThemeProvider","react","fallback","css","isMDXComponent"],"mappings":"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","file":"static/js/src-reusable-router-router.4de7729b.js","sourcesContent":["import { FlexInterface } from './flex.types';\n\nimport kebabCase from 'lodash/kebabCase';\n\nexport function flexTheme({\n  alignItems,\n  basis,\n  display,\n  grow,\n  justifyContent,\n  shrink,\n  wrap,\n}: FlexInterface) {\n  return {\n    display: display || 'flex',\n    basis: basis ? `${basis}` : '',\n    grow: grow ? `${grow}` : '',\n    shrink: shrink ? `${shrink}` : '',\n    justifyContent: (justifyContent && [kebabCase(justifyContent)]) || '',\n    alignItems: (alignItems && [kebabCase(alignItems)]) || '',\n    flexWrap: (wrap && [kebabCase(wrap)]) || '',\n  };\n}\n\nexport function flexDirectionTheme({ direction }: FlexInterface) {\n  switch (direction) {\n    case 'row':\n      return { flexDirection: 'row' };\n    case 'column':\n      return { flexDirection: 'column' };\n    case 'rowReverse':\n      return { flexDirection: 'rowReverse' };\n    case 'columnReverse':\n      return { flexDirection: 'columnReverse' };\n    default:\n      return {};\n  }\n}\n","import React, { useMemo } from 'react'\n\nimport { flexTheme, flexDirectionTheme } from './flex.theme'\nimport { Base } from '../Base'\nimport { FlexInterface } from './flex.types'\n\nexport const Flex = React.memo(function Flex({\n  children,\n  className = '',\n  themed = [],\n  ...propsRest\n}: FlexInterface) {\n  const classNames = useMemo(() => `Flex ${className}`, [className])\n  const _themed = useMemo(() => [flexTheme, flexDirectionTheme, ...themed], [\n    flexTheme,\n    flexDirectionTheme,\n    themed,\n  ])\n\n  return (\n    <Base className={classNames} themed={_themed} {...propsRest}>\n      {children}\n    </Base>\n  )\n})\n\nexport default Flex\n","export * from './Flex';\nexport * from './flex.types';\n","import React, { useCallback } from 'react'\nimport { useRouter } from './RouterContext'\nimport { Base, BaseInterface } from '../../Base'\n\nexport const Link = function Link({\n  className,\n  children,\n  onClick,\n  onEnter,\n  to,\n  ...propsRest\n}: BaseInterface) {\n  const classNames = `Link ${className}`\n  const { route, dispatch } = useRouter()\n\n  const handleClick = useCallback(\n    function handleClick(e: React.MouseEvent<HTMLElement>) {\n      e.preventDefault()\n      if (to !== route) {\n        dispatch({\n          type: 'ADD_ROUTE',\n          route: to,\n        })\n      }\n\n      onClick && onClick(e)\n    },\n    [onClick]\n  )\n\n  return (\n    <Base\n      as=\"a\"\n      className={classNames}\n      href={to}\n      onClick={handleClick}\n      tabIndex={0}\n      {...propsRest}\n    >\n      {children}\n    </Base>\n  )\n}\n","import React, { useMemo } from 'react'\nimport RouteParser from 'route-parser'\n\nimport { useRouter } from './RouterContext'\nimport { ParamsType, RouterTypes, RouteTypes } from './router.types'\n// import { useStateDevtools } from '../devtools'\n\nfunction flattenRoutes(routes: RouteTypes[], parent?: RouteTypes) {\n  return routes.reduce((accumulator, route) => {\n    return route.children\n      ? [...accumulator, ...flattenRoutes(route.children, route)]\n      : [\n          ...accumulator,\n          {\n            ...route,\n            component:\n              (parent &&\n                function() {\n                  return parent.component.type\n                    ? parent.component.type({ routes: parent.children })\n                    : parent.component({ routes: parent.children })\n                }) ||\n              route.component,\n          },\n        ]\n  }, [])\n}\n\nexport const Router = React.memo(function Router({\n  routes: routesProp = [],\n  ...propsRest\n}: RouterTypes) {\n  const routes = useMemo(() => (routesProp ? flattenRoutes(routesProp) : []), [\n    routesProp,\n  ])\n  const { route, history, dispatch } = useRouter()\n  let params: ParamsType = false\n  let Component = null\n\n  for (let item of routes) {\n    const pattern = new RouteParser(item.path)\n    const match = pattern.match(route)\n\n    if (match) {\n      params = match\n      Component = item.component\n      break\n    }\n  }\n\n  const routeContext = useMemo(() => ({ route, history, dispatch }), [\n    route,\n    history,\n    dispatch,\n  ])\n\n  return useMemo(\n    () => (params ? <Component {...propsRest} route={routeContext} /> : null),\n    [params, route]\n  )\n})\n","import React, { useContext } from 'react';\n\nimport { RouterContextInterface } from './router.types';\n\nexport const RouterContext = React.createContext<RouterContextInterface>({\n  route: '/',\n  history: ['/'],\n});\n\nexport function useRouter() {\n  return useContext(RouterContext);\n}\n","import React from 'react'\n\nconst Users = React.lazy(() => import('./Users.example'))\n\nexport const routes = [\n  { path: `/router`, component: () => 'Home Page' },\n  { path: `/router/about`, component: () => 'About Page' },\n  {\n    component: (props: any) => <Users {...props} />,\n    children: [\n      { path: `/router/users/1`, component: () => 'Users 1' },\n      { path: `/router/users/2`, component: () => 'Users 2' },\n    ],\n  },\n]\n","import React, { useEffect, useMemo, useReducer } from 'react'\nimport { RouterContext } from './RouterContext'\n\nimport { RouterProviderInterface } from './router.types'\n\nexport const RouterProvider = React.memo(function RouterProviderInterface({\n  children,\n  active = window.location.pathname,\n}: RouterProviderInterface) {\n  function reducer(state: string[], action: { type: string; route: string }) {\n    switch (action.type) {\n      case 'ADD_ROUTE': {\n        return [...state, action.route]\n      }\n      case 'BACK_ROUTE': {\n        return state.slice(0, state.length - 1)\n      }\n      default:\n        return state\n    }\n  }\n  const [history, dispatch] = useReducer(reducer, [active])\n  const route = history[history.length - 1]\n\n  useEffect(() => {\n    window.addEventListener('popstate', (e: any) => {\n      dispatch({\n        type: 'ADD_ROUTE',\n        route: e.currentTarget.location.pathname,\n      })\n    })\n  })\n\n  useEffect(() => {\n    if (window.location.pathname !== route) {\n      window.history.pushState(route, route, route)\n    }\n  }, [dispatch, route])\n\n  const context = useMemo(() => ({ history, route, dispatch }), [\n    route,\n    history,\n    dispatch,\n  ])\n\n  return (\n    <RouterContext.Provider value={context}>{children}</RouterContext.Provider>\n  )\n})\n","/* @jsx mdx */\n  import React from 'react'\n  import { mdx } from '@mdx-js/react'\n  /* @jsx mdx */\nimport { Suspense } from 'react';\nimport { routes } from './router.example';\nimport { Link } from './Link';\nimport { Router } from './Router';\nimport { RouterProvider } from './RouterProvider';\nimport { Flex } from '../../Flex';\nimport { ThemeProvider } from '../../ThemeContext/ThemeProvider';\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"router\"\n    }}>{`Router`}</h1>\n    <ThemeProvider mdxType=\"ThemeProvider\">\n  <RouterProvider mdxType=\"RouterProvider\">\n    <Suspense fallback=\"Loading...\" mdxType=\"Suspense\">\n          <Flex mdxType=\"Flex\">\n  <Flex direction=\"column\" css=\"width: 200px;\" mdxType=\"Flex\">\n    <Link to=\"/router\" mdxType=\"Link\">Home</Link>\n    <Link to=\"/router/about\" mdxType=\"Link\">About</Link>\n    <Link to=\"/router/users/1\" mdxType=\"Link\">Users</Link>\n  </Flex>\n  <Router routes={routes} mdxType=\"Router\" />\n          </Flex>\n        </Suspense>\n  </RouterProvider>\n    </ThemeProvider>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n  "],"sourceRoot":""}