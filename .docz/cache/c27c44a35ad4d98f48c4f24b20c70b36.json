{"remainingRequest":"/mnt/Storage/Projects/themed-styled-components/node_modules/thread-loader/dist/cjs.js??ref--5-1!/mnt/Storage/Projects/themed-styled-components/node_modules/babel-loader/lib/index.js??ref--5-2!/mnt/Storage/Projects/themed-styled-components/node_modules/source-map-loader/index.js!/mnt/Storage/Projects/themed-styled-components/src/reusable/cacheState/useCacheState.js","dependencies":[{"path":"/mnt/Storage/Projects/themed-styled-components/src/reusable/cacheState/useCacheState.js","mtime":1556550887305},{"path":"/mnt/Storage/Projects/themed-styled-components/node_modules/cache-loader/dist/cjs.js","mtime":1550658762297},{"path":"/mnt/Storage/Projects/themed-styled-components/node_modules/thread-loader/dist/cjs.js","mtime":1555245588536},{"path":"/mnt/Storage/Projects/themed-styled-components/node_modules/babel-loader/lib/index.js","mtime":1550658760833},{"path":"/mnt/Storage/Projects/themed-styled-components/node_modules/source-map-loader/index.js","mtime":1550658762472}],"contextDependencies":[],"result":["import _slicedToArray from \"/mnt/Storage/Projects/themed-styled-components/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nimport { useState, useEffect, useMemo } from 'react';\nexport function useCacheState(key, initialState) {\n  var storage = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'sessionStorage';\n\n  var _useState = useState(initialState),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  useEffect(function () {\n    var cached = window[storage].getItem(key);\n    var data = !cached ? cached : JSON.parse(cached);\n    setItem(data || initialState);\n  }, []);\n\n  function setItem(newState) {\n    if (newState === state) return;\n    var data = JSON.stringify(newState);\n    setState(newState);\n    return window[storage].setItem(key, data);\n  }\n\n  function removeItem() {\n    setState(undefined);\n    window[storage].removeItem(key);\n  }\n\n  return useMemo(function () {\n    return [state, setItem, removeItem];\n  }, [[state, setItem, removeItem]]);\n}\n\nif (typeof useCacheState !== 'undefined' && useCacheState && useCacheState === Object(useCacheState) && Object.isExtensible(useCacheState)) {\n  Object.defineProperty(useCacheState, '__filemeta', {\n    enumerable: true,\n    configurable: true,\n    value: {\n      name: \"useCacheState\",\n      filename: \"src/reusable/cacheState/useCacheState.js\"\n    }\n  });\n}\n\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(useCacheState, \"useCacheState\", \"/mnt/Storage/Projects/themed-styled-components/src/reusable/cacheState/useCacheState.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();",{"version":3,"sources":["/mnt/Storage/Projects/themed-styled-components/src/reusable/cacheState/useCacheState.js"],"names":["useState","useEffect","useMemo","useCacheState","key","initialState","storage","state","setState","cached","window","getItem","data","JSON","parse","setItem","newState","stringify","removeItem","undefined"],"mappings":";;;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,OAA9B,QAA6C,OAA7C;AAEA,OAAO,SAASC,aAAT,CAAuBC,GAAvB,EAA4BC,YAA5B,EAAsE;AAAA,MAA5BC,OAA4B,uEAAlB,gBAAkB;;AAAA,kBACjDN,QAAQ,CAACK,YAAD,CADyC;AAAA;AAAA,MACpEE,KADoE;AAAA,MAC7DC,QAD6D;;AAG3EP,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMQ,MAAM,GAAGC,MAAM,CAACJ,OAAD,CAAN,CAAgBK,OAAhB,CAAwBP,GAAxB,CAAf;AACA,QAAMQ,IAAI,GAAG,CAACH,MAAD,GAAUA,MAAV,GAAmBI,IAAI,CAACC,KAAL,CAAWL,MAAX,CAAhC;AAEAM,IAAAA,OAAO,CAACH,IAAI,IAAIP,YAAT,CAAP;AACD,GALQ,EAKN,EALM,CAAT;;AAOA,WAASU,OAAT,CAAiBC,QAAjB,EAA2B;AACzB,QAAIA,QAAQ,KAAKT,KAAjB,EAAwB;AACxB,QAAMK,IAAI,GAAGC,IAAI,CAACI,SAAL,CAAeD,QAAf,CAAb;AAEAR,IAAAA,QAAQ,CAACQ,QAAD,CAAR;AACA,WAAON,MAAM,CAACJ,OAAD,CAAN,CAAgBS,OAAhB,CAAwBX,GAAxB,EAA6BQ,IAA7B,CAAP;AACD;;AAED,WAASM,UAAT,GAAsB;AACpBV,IAAAA,QAAQ,CAACW,SAAD,CAAR;AACAT,IAAAA,MAAM,CAACJ,OAAD,CAAN,CAAgBY,UAAhB,CAA2Bd,GAA3B;AACD;;AAED,SAAOF,OAAO,CAAC;AAAA,WAAM,CAACK,KAAD,EAAQQ,OAAR,EAAiBG,UAAjB,CAAN;AAAA,GAAD,EAAqC,CACjD,CAACX,KAAD,EAAQQ,OAAR,EAAiBG,UAAjB,CADiD,CAArC,CAAd;AAGD;;;;;;;;;;;;;;;;;;;;;;0BA1Bef,a","sourcesContent":["import { useState, useEffect, useMemo } from 'react'\n\nexport function useCacheState(key, initialState, storage = 'sessionStorage') {\n  const [state, setState] = useState(initialState)\n\n  useEffect(() => {\n    const cached = window[storage].getItem(key)\n    const data = !cached ? cached : JSON.parse(cached)\n\n    setItem(data || initialState)\n  }, [])\n\n  function setItem(newState) {\n    if (newState === state) return\n    const data = JSON.stringify(newState)\n\n    setState(newState)\n    return window[storage].setItem(key, data)\n  }\n\n  function removeItem() {\n    setState(undefined)\n    window[storage].removeItem(key)\n  }\n\n  return useMemo(() => [state, setItem, removeItem], [\n    [state, setItem, removeItem],\n  ])\n}\n"]}]}