{"remainingRequest":"/mnt/Storage/Projects/themed-styled-components/node_modules/thread-loader/dist/cjs.js??ref--5-1!/mnt/Storage/Projects/themed-styled-components/node_modules/babel-loader/lib/index.js??ref--5-2!/mnt/Storage/Projects/themed-styled-components/node_modules/source-map-loader/index.js!/mnt/Storage/Projects/themed-styled-components/src/reusable/collectionHash/collectionHashReducer.js","dependencies":[{"path":"/mnt/Storage/Projects/themed-styled-components/src/reusable/collectionHash/collectionHashReducer.js","mtime":1556784255058},{"path":"/mnt/Storage/Projects/themed-styled-components/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/Storage/Projects/themed-styled-components/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/Storage/Projects/themed-styled-components/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/Storage/Projects/themed-styled-components/node_modules/source-map-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvbW50L1N0b3JhZ2UvUHJvamVjdHMvdGhlbWVkLXN0eWxlZC1jb21wb25lbnRzL25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL21udC9TdG9yYWdlL1Byb2plY3RzL3RoZW1lZC1zdHlsZWQtY29tcG9uZW50cy9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvbW50L1N0b3JhZ2UvUHJvamVjdHMvdGhlbWVkLXN0eWxlZC1jb21wb25lbnRzL25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQiOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5lbnRlck1vZHVsZTsKICBlbnRlck1vZHVsZSAmJiBlbnRlck1vZHVsZShtb2R1bGUpOwp9KSgpOwoKaW1wb3J0IHsgdXNlTWVtbywgdXNlUmVkdWNlciB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ09MTEVDVElPTl9IQVNIX0lOSVRJQUxfU1RBVEUgfSBmcm9tICcuL2NvbGxlY3Rpb25IYXNoQ29uc3RhbnRzJzsKCnZhciBidWlsZEluaXRpYWxWYWx1ZSA9IGZ1bmN0aW9uIGJ1aWxkSW5pdGlhbFZhbHVlKGluaXRpYWxTdGF0ZSkgewogIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBDT0xMRUNUSU9OX0hBU0hfSU5JVElBTF9TVEFURSwgaW5pdGlhbFN0YXRlKTsKfTsKCmV4cG9ydCB2YXIgY3JlYXRlSW5pdGlhbFN0YXRlID0gZnVuY3Rpb24gY3JlYXRlSW5pdGlhbFN0YXRlKGluaXRpYWxTdGF0ZSkgewogIHJldHVybiBidWlsZEluaXRpYWxWYWx1ZShpbml0aWFsU3RhdGUpOwp9OwoKaWYgKHR5cGVvZiBjcmVhdGVJbml0aWFsU3RhdGUgIT09ICd1bmRlZmluZWQnICYmIGNyZWF0ZUluaXRpYWxTdGF0ZSAmJiBjcmVhdGVJbml0aWFsU3RhdGUgPT09IE9iamVjdChjcmVhdGVJbml0aWFsU3RhdGUpICYmIE9iamVjdC5pc0V4dGVuc2libGUoY3JlYXRlSW5pdGlhbFN0YXRlKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjcmVhdGVJbml0aWFsU3RhdGUsICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJjcmVhdGVJbml0aWFsU3RhdGUiLAogICAgICBmaWxlbmFtZTogInNyYy9yZXVzYWJsZS9jb2xsZWN0aW9uSGFzaC9jb2xsZWN0aW9uSGFzaFJlZHVjZXIuanMiCiAgICB9CiAgfSk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBpdGVtc1RvQXJyYXkoaXRlbXMpIHsKICB2YXIgbGlzdCA9IFtdOwoKICBmb3IgKHZhciBpdGVtIGluIGl0ZW1zKSB7CiAgICBsaXN0LnB1c2goaXRlbXNbaXRlbV0pOwogIH0KCiAgcmV0dXJuIGxpc3Q7Cn0KCmlmICh0eXBlb2YgaXRlbXNUb0FycmF5ICE9PSAndW5kZWZpbmVkJyAmJiBpdGVtc1RvQXJyYXkgJiYgaXRlbXNUb0FycmF5ID09PSBPYmplY3QoaXRlbXNUb0FycmF5KSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKGl0ZW1zVG9BcnJheSkpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaXRlbXNUb0FycmF5LCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiaXRlbXNUb0FycmF5IiwKICAgICAgZmlsZW5hbWU6ICJzcmMvcmV1c2FibGUvY29sbGVjdGlvbkhhc2gvY29sbGVjdGlvbkhhc2hSZWR1Y2VyLmpzIgogICAgfQogIH0pOwp9CgpleHBvcnQgZnVuY3Rpb24gdXNlQ29sbGVjdGlvbkhhc2hSZWR1Y2VyKGV4dGVuZFJlZHVjZXIsIGluaXRpYWxTdGF0ZSkgewogIHZhciBpbml0aWFsVmFsdWUgPSBidWlsZEluaXRpYWxWYWx1ZShpbml0aWFsU3RhdGUpOwoKICBmdW5jdGlvbiByZW1vdmVJdGVtKGxpc3QsIGl0ZW1zVG9SZW1vdmUpIHsKICAgIHZhciBpdGVtcyA9IHt9OwoKICAgIGZvciAodmFyIGl0ZW0gaW4gbGlzdCkgewogICAgICBpZiAoIWl0ZW1zVG9SZW1vdmUuaW5jbHVkZXMoaXRlbSkpIHsKICAgICAgICBpdGVtc1tpdGVtXSA9IGxpc3RbaXRlbV07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gaXRlbXM7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2Zvcm1Db2xsZWN0aW9uVG9PYmplY3QoaXRlbXMpIHsKICAgIGlmICghQXJyYXkuaXNBcnJheShpdGVtcykpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciByZWR1Y2VyID0gZnVuY3Rpb24gcmVkdWNlcihhY2MsIGl0ZW0pIHsKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGFjYywgX2RlZmluZVByb3BlcnR5KHt9LCBpdGVtW2luaXRpYWxWYWx1ZS51aWRdLCBpdGVtKSk7CiAgICB9OwoKICAgIHJldHVybiBpdGVtcy5yZWR1Y2UocmVkdWNlciwge30pOwogIH0KCiAgZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uLCBpbml0aWFsVmFsdWUsIGV4dGVuZFJlZHVjZXIpIHsKICAgIHZhciBub3RBcnJheSA9IGZ1bmN0aW9uIG5vdEFycmF5KHZhbHVlKSB7CiAgICAgIHJldHVybiAhQXJyYXkuaXNBcnJheSh2YWx1ZSk7CiAgICB9OwoKICAgIHZhciBub3RTdHJpbmcgPSBmdW5jdGlvbiBub3RTdHJpbmcodmFsdWUpIHsKICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZyc7CiAgICB9OwoKICAgIHZhciBub3REZWZpbmVkID0gZnVuY3Rpb24gbm90RGVmaW5lZCh2YWx1ZSkgewogICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbDsKICAgIH07CgogICAgc3dpdGNoIChhY3Rpb24udHlwZSkgewogICAgICBjYXNlICdJTlNFUlRfSVRFTVMnOgogICAgICAgIHsKICAgICAgICAgIHZhciBpdGVtcyA9IEFycmF5LmlzQXJyYXkoYWN0aW9uLml0ZW1zKSA/IHRyYW5zZm9ybUNvbGxlY3Rpb25Ub09iamVjdChhY3Rpb24uaXRlbXMpIDogX2RlZmluZVByb3BlcnR5KHt9LCBhY3Rpb24uaXRlbXNbaW5pdGlhbFZhbHVlLnVpZF0sIGFjdGlvbi5pdGVtcyk7CiAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIHsKICAgICAgICAgICAgaXRlbXM6IF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLml0ZW1zLCBpdGVtcykKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ1JFRFVDRVInOgogICAgICAgIHsKICAgICAgICAgIHJldHVybiBhY3Rpb24ucmVkdWNlcihzdGF0ZSk7CiAgICAgICAgfQoKICAgICAgY2FzZSAnUkVNT1ZFX0lURU1TJzoKICAgICAgICB7CiAgICAgICAgICBpZiAobm90QXJyYXkoYWN0aW9uLnJlbW92ZSkpIHsKICAgICAgICAgICAgcmV0dXJuIHN0YXRlOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSwgewogICAgICAgICAgICBhY3RpdmU6IGFjdGlvbi5yZW1vdmUuaW5jbHVkZXMoc3RhdGUuYWN0aXZlKSA/ICcnIDogc3RhdGUuYWN0aXZlLAogICAgICAgICAgICBzZWxlY3RlZDogc3RhdGUuc2VsZWN0ZWQuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgcmV0dXJuICFhY3Rpb24ucmVtb3ZlLmluY2x1ZGVzKGl0ZW0pOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgaXRlbXM6IHJlbW92ZUl0ZW0oc3RhdGUuaXRlbXMsIGFjdGlvbi5yZW1vdmUpCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICBjYXNlICdSRVBMQUNFX0lURU1TJzoKICAgICAgICB7CiAgICAgICAgICB2YXIgdHJhbnNmb3JtZWREYXRhID0gdHJhbnNmb3JtQ29sbGVjdGlvblRvT2JqZWN0KGFjdGlvbi5pdGVtcyk7CiAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIHsKICAgICAgICAgICAgaXRlbXM6IHRyYW5zZm9ybWVkRGF0YQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgY2FzZSAnUkVTRVQnOgogICAgICAgIHsKICAgICAgICAgIHJldHVybiBpbml0aWFsVmFsdWU7CiAgICAgICAgfQoKICAgICAgY2FzZSAnU0VUX0FDVElWRSc6CiAgICAgICAgewogICAgICAgICAgaWYgKG5vdFN0cmluZyhhY3Rpb24uYWN0aXZlKSkgewogICAgICAgICAgICByZXR1cm4gc3RhdGU7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCB7CiAgICAgICAgICAgIGFjdGl2ZTogbm90RGVmaW5lZChhY3Rpb24uYWN0aXZlKSA/ICcnIDogYWN0aW9uLmFjdGl2ZS50cmltKCkKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ1NFVF9MT0FESU5HJzoKICAgICAgICB7CiAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIHsKICAgICAgICAgICAgbG9hZGluZzogISFhY3Rpb24ubG9hZGluZwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgY2FzZSAnU0VUX1NFTEVDVEVEJzoKICAgICAgICB7CiAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIHsKICAgICAgICAgICAgc2VsZWN0ZWQ6IGFjdGlvbi5zZWxlY3RlZAogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgY2FzZSAnVE9HR0xFX1NFTEVDVEVEX0lURU1TJzoKICAgICAgICB7CiAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBfdG9Db25zdW1hYmxlQXJyYXkoc3RhdGUuc2VsZWN0ZWQpOwoKICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTsKICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlOwogICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGFjdGlvbi5zZWxlY3RlZFtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHsKICAgICAgICAgICAgICB2YXIgc2VsZWN0ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgICAgdmFyIGluZGV4ID0gc2VsZWN0ZWQuaW5kZXhPZihzZWxlY3QpOwoKICAgICAgICAgICAgICB2YXIgX3NlbGVjdCA9IHNlbGVjdC50cmltKCk7CgogICAgICAgICAgICAgIGlmIChzdGF0ZS5pdGVtc1tpbmRleF0pIHsKICAgICAgICAgICAgICAgIHNlbGVjdGVkID0gaW5kZXggPT09IDAgPyBzZWxlY3RlZC5zbGljZSgxKSA6IGluZGV4ID09PSBzZWxlY3RlZC5sZW5ndGggLSAxID8gc2VsZWN0ZWQuc2xpY2UoMCwgc2VsZWN0ZWQubGVuZ3RoIC0gMSkgOiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNlbGVjdGVkLnNsaWNlKDAsIGluZGV4KSksIF90b0NvbnN1bWFibGVBcnJheShzZWxlY3RlZC5zbGljZShpbmRleCArIDEpKSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNlbGVjdGVkLnB1c2goX3NlbGVjdCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlOwogICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHsKICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSwgewogICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ1VQREFURV9JVEVNJzoKICAgICAgICB7CiAgICAgICAgICBpZiAoIXN0YXRlLml0ZW1zW2FjdGlvbi5zZWxlY3RdKSB7CiAgICAgICAgICAgIHJldHVybiBzdGF0ZTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgaXRlbSA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgYWN0aW9uLml0ZW0ubmFtZSB8fCBhY3Rpb24uc2VsZWN0LCBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5pdGVtc1thY3Rpb24uc2VsZWN0XSwgYWN0aW9uLml0ZW0pKTsKCiAgICAgICAgICB2YXIgdXBkYXRlSXRlbUluTGlzdCA9IGZ1bmN0aW9uIHVwZGF0ZUl0ZW1Jbkxpc3QoKSB7CiAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5pdGVtcywgaXRlbSk7CiAgICAgICAgICB9OwoKICAgICAgICAgIHZhciByZW1vdmVDbG9uZUFuZFVwZGF0ZUl0ZW0gPSBmdW5jdGlvbiByZW1vdmVDbG9uZUFuZFVwZGF0ZUl0ZW0oKSB7CiAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCByZW1vdmVJdGVtKHN0YXRlLml0ZW1zLCBbYWN0aW9uLnNlbGVjdF0pLCBpdGVtKTsKICAgICAgICAgIH07CgogICAgICAgICAgdmFyIHVwZGF0ZWRJdGVtcyA9IGFjdGlvbi5pdGVtW2luaXRpYWxWYWx1ZS51aWRdID8gcmVtb3ZlQ2xvbmVBbmRVcGRhdGVJdGVtKCkgOiB1cGRhdGVJdGVtSW5MaXN0KCk7CgogICAgICAgICAgdmFyIHNldFNlbGVjdGVkSXRlbSA9IGZ1bmN0aW9uIHNldFNlbGVjdGVkSXRlbShsaXN0LCBpdGVtLCB1cGRhdGUpIHsKICAgICAgICAgICAgdmFyIHJlcGxhY2VTZWxlY3RlZEl0ZW0gPSBmdW5jdGlvbiByZXBsYWNlU2VsZWN0ZWRJdGVtKCkgewogICAgICAgICAgICAgIHZhciBpbmRleCA9IGxpc3QuaW5kZXhPZihpdGVtKTsKICAgICAgICAgICAgICByZXR1cm4gaW5kZXggPT09IDAgPyBbdXBkYXRlXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGxpc3Quc2xpY2UoMSkpKSA6IGluZGV4ID09PSBsaXN0Lmxlbmd0aCAtIDEgPyBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGxpc3Quc2xpY2UoMCwgbGlzdC5sZW5ndGggLSAxKSksIFt1cGRhdGVdKSA6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobGlzdC5zbGljZSgwLCBpbmRleCkpLCBbdXBkYXRlXSwgX3RvQ29uc3VtYWJsZUFycmF5KGxpc3Quc2xpY2UoaW5kZXggKyAxKSkpOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnNlbGVjdGVkLmluY2x1ZGVzKGFjdGlvbi5zZWxlY3QpID8gcmVwbGFjZVNlbGVjdGVkSXRlbSgpIDogc3RhdGUuc2VsZWN0ZWQ7CiAgICAgICAgICB9OwoKICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSwgewogICAgICAgICAgICBhY3RpdmU6IHN0YXRlLmFjdGl2ZSA9PT0gYWN0aW9uLnNlbGVjdCA/IGFjdGlvbi5pdGVtLm5hbWUgOiBzdGF0ZS5hY3RpdmUsCiAgICAgICAgICAgIHNlbGVjdGVkOiBzZXRTZWxlY3RlZEl0ZW0oc3RhdGUuc2VsZWN0ZWQsIGFjdGlvbi5zZWxlY3QsIGFjdGlvbi5pdGVtLm5hbWUpLAogICAgICAgICAgICBpdGVtczogdXBkYXRlZEl0ZW1zCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICBkZWZhdWx0OgogICAgICAgIHJldHVybiBleHRlbmRSZWR1Y2VyID8gZXh0ZW5kUmVkdWNlcihzdGF0ZSwgYWN0aW9uKSA6IHN0YXRlOwogICAgfQogIH0KCiAgZnVuY3Rpb24gY3J1ZFJlZHVjZXIoc3RhdGUsIGFjdGlvbikgewogICAgcmV0dXJuIHJlZHVjZXIoc3RhdGUsIGFjdGlvbiwgaW5pdGlhbFZhbHVlLCBleHRlbmRSZWR1Y2VyKTsKICB9CgogIHJldHVybiB1c2VSZWR1Y2VyKGNydWRSZWR1Y2VyLCBpbml0aWFsVmFsdWUpOwp9CgppZiAodHlwZW9mIHVzZUNvbGxlY3Rpb25IYXNoUmVkdWNlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdXNlQ29sbGVjdGlvbkhhc2hSZWR1Y2VyICYmIHVzZUNvbGxlY3Rpb25IYXNoUmVkdWNlciA9PT0gT2JqZWN0KHVzZUNvbGxlY3Rpb25IYXNoUmVkdWNlcikgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZSh1c2VDb2xsZWN0aW9uSGFzaFJlZHVjZXIpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHVzZUNvbGxlY3Rpb25IYXNoUmVkdWNlciwgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogInVzZUNvbGxlY3Rpb25IYXNoUmVkdWNlciIsCiAgICAgIGZpbGVuYW1lOiAic3JjL3JldXNhYmxlL2NvbGxlY3Rpb25IYXNoL2NvbGxlY3Rpb25IYXNoUmVkdWNlci5qcyIKICAgIH0KICB9KTsKfQoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5kZWZhdWx0OwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihidWlsZEluaXRpYWxWYWx1ZSwgImJ1aWxkSW5pdGlhbFZhbHVlIiwgIi9tbnQvU3RvcmFnZS9Qcm9qZWN0cy90aGVtZWQtc3R5bGVkLWNvbXBvbmVudHMvc3JjL3JldXNhYmxlL2NvbGxlY3Rpb25IYXNoL2NvbGxlY3Rpb25IYXNoUmVkdWNlci5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGNyZWF0ZUluaXRpYWxTdGF0ZSwgImNyZWF0ZUluaXRpYWxTdGF0ZSIsICIvbW50L1N0b3JhZ2UvUHJvamVjdHMvdGhlbWVkLXN0eWxlZC1jb21wb25lbnRzL3NyYy9yZXVzYWJsZS9jb2xsZWN0aW9uSGFzaC9jb2xsZWN0aW9uSGFzaFJlZHVjZXIuanMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihpdGVtc1RvQXJyYXksICJpdGVtc1RvQXJyYXkiLCAiL21udC9TdG9yYWdlL1Byb2plY3RzL3RoZW1lZC1zdHlsZWQtY29tcG9uZW50cy9zcmMvcmV1c2FibGUvY29sbGVjdGlvbkhhc2gvY29sbGVjdGlvbkhhc2hSZWR1Y2VyLmpzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIodXNlQ29sbGVjdGlvbkhhc2hSZWR1Y2VyLCAidXNlQ29sbGVjdGlvbkhhc2hSZWR1Y2VyIiwgIi9tbnQvU3RvcmFnZS9Qcm9qZWN0cy90aGVtZWQtc3R5bGVkLWNvbXBvbmVudHMvc3JjL3JldXNhYmxlL2NvbGxlY3Rpb25IYXNoL2NvbGxlY3Rpb25IYXNoUmVkdWNlci5qcyIpOwp9KSgpOwoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgbGVhdmVNb2R1bGUgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5sZWF2ZU1vZHVsZTsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["/mnt/Storage/Projects/themed-styled-components/src/reusable/collectionHash/collectionHashReducer.js"],"names":["useMemo","useReducer","COLLECTION_HASH_INITIAL_STATE","buildInitialValue","initialState","createInitialState","itemsToArray","items","list","item","push","useCollectionHashReducer","extendReducer","initialValue","removeItem","itemsToRemove","includes","transformCollectionToObject","Array","isArray","reducer","acc","uid","reduce","state","action","notArray","value","notString","notDefined","type","remove","active","selected","filter","transformedData","trim","loading","select","index","indexOf","_select","slice","length","name","updateItemInList","removeCloneAndUpdateItem","updatedItems","setSelectedItem","update","replaceSelectedItem","crudReducer"],"mappings":"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","sourcesContent":["import { useMemo, useReducer } from 'react'\nimport { COLLECTION_HASH_INITIAL_STATE } from './collectionHashConstants'\n\nconst buildInitialValue = initialState => ({\n  ...COLLECTION_HASH_INITIAL_STATE,\n  ...initialState,\n})\n\nexport const createInitialState = initialState =>\n  buildInitialValue(initialState)\n\nexport function itemsToArray(items) {\n  let list = []\n\n  for (let item in items) {\n    list.push(items[item])\n  }\n\n  return list\n}\n\nexport function useCollectionHashReducer(extendReducer, initialState) {\n  const initialValue = buildInitialValue(initialState)\n\n  function removeItem(list, itemsToRemove) {\n    let items = {}\n\n    for (let item in list) {\n      if (!itemsToRemove.includes(item)) {\n        items[item] = list[item]\n      }\n    }\n\n    return items\n  }\n\n  function transformCollectionToObject(items) {\n    if (!Array.isArray(items)) {\n      return\n    }\n\n    const reducer = (acc, item) => ({\n      ...acc,\n      [item[initialValue.uid]]: item,\n    })\n    return items.reduce(reducer, {})\n  }\n\n  function reducer(state, action, initialValue, extendReducer) {\n    const notArray = value => !Array.isArray(value)\n    const notString = value => typeof value !== 'string'\n    const notDefined = value => value == null\n\n    switch (action.type) {\n      case 'INSERT_ITEMS': {\n        const items = Array.isArray(action.items)\n          ? transformCollectionToObject(action.items)\n          : {\n              [action.items[initialValue.uid]]: action.items,\n            }\n        return {\n          ...state,\n          items: {\n            ...state.items,\n            ...items,\n          },\n        }\n      }\n\n      case 'REDUCER': {\n        return action.reducer(state)\n      }\n\n      case 'REMOVE_ITEMS': {\n        if (notArray(action.remove)) {\n          return state\n        }\n\n        return {\n          ...state,\n          active: action.remove.includes(state.active) ? '' : state.active,\n          selected: state.selected.filter(\n            item => !action.remove.includes(item)\n          ),\n          items: removeItem(state.items, action.remove),\n        }\n      }\n\n      case 'REPLACE_ITEMS': {\n        const transformedData = transformCollectionToObject(action.items)\n        return {\n          ...state,\n          items: transformedData,\n        }\n      }\n\n      case 'RESET': {\n        return initialValue\n      }\n\n      case 'SET_ACTIVE': {\n        if (notString(action.active)) {\n          return state\n        }\n\n        return {\n          ...state,\n          active: notDefined(action.active) ? '' : action.active.trim(),\n        }\n      }\n\n      case 'SET_LOADING': {\n        return {\n          ...state,\n          loading: !!action.loading,\n        }\n      }\n\n      case 'SET_SELECTED': {\n        return {\n          ...state,\n          selected: action.selected,\n        }\n      }\n\n      case 'TOGGLE_SELECTED_ITEMS': {\n        let selected = [...state.selected]\n\n        for (let select of action.selected) {\n          const index = selected.indexOf(select)\n          const _select = select.trim()\n\n          if (state.items[index]) {\n            selected =\n              index === 0\n                ? selected.slice(1)\n                : index === selected.length - 1\n                ? selected.slice(0, selected.length - 1)\n                : [...selected.slice(0, index), ...selected.slice(index + 1)]\n          } else {\n            selected.push(_select)\n          }\n        }\n\n        return {\n          ...state,\n          selected,\n        }\n      }\n\n      case 'UPDATE_ITEM': {\n        if (!state.items[action.select]) {\n          return state\n        }\n\n        const item = {\n          [action.item.name || action.select]: {\n            ...state.items[action.select],\n            ...action.item,\n          },\n        }\n\n        const updateItemInList = () => ({\n          ...state.items,\n          ...item,\n        })\n\n        let removeCloneAndUpdateItem = () => ({\n          ...removeItem(state.items, [action.select]),\n          ...item,\n        })\n\n        const updatedItems = action.item[initialValue.uid]\n          ? removeCloneAndUpdateItem()\n          : updateItemInList()\n\n        const setSelectedItem = (list, item, update) => {\n          const replaceSelectedItem = () => {\n            const index = list.indexOf(item)\n            return index === 0\n              ? [update, ...list.slice(1)]\n              : index === list.length - 1\n              ? [...list.slice(0, list.length - 1), update]\n              : [...list.slice(0, index), update, ...list.slice(index + 1)]\n          }\n\n          return state.selected.includes(action.select)\n            ? replaceSelectedItem()\n            : state.selected\n        }\n\n        return {\n          ...state,\n          active:\n            state.active === action.select ? action.item.name : state.active,\n          selected: setSelectedItem(\n            state.selected,\n            action.select,\n            action.item.name\n          ),\n          items: updatedItems,\n        }\n      }\n\n      default:\n        return extendReducer ? extendReducer(state, action) : state\n    }\n  }\n\n  function crudReducer(state, action) {\n    return reducer(state, action, initialValue, extendReducer)\n  }\n\n  return useReducer(crudReducer, initialValue)\n}\n"]}]}