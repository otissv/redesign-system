{"remainingRequest":"/mnt/Storage/Projects/themed-styled-components/node_modules/thread-loader/dist/cjs.js??ref--5-1!/mnt/Storage/Projects/themed-styled-components/node_modules/babel-loader/lib/index.js??ref--5-2!/mnt/Storage/Projects/themed-styled-components/node_modules/source-map-loader/index.js!/mnt/Storage/Projects/themed-styled-components/src/Notify/Notify.js","dependencies":[{"path":"/mnt/Storage/Projects/themed-styled-components/src/Notify/Notify.js","mtime":1557390055276},{"path":"/mnt/Storage/Projects/themed-styled-components/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/Storage/Projects/themed-styled-components/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/Storage/Projects/themed-styled-components/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/Storage/Projects/themed-styled-components/node_modules/source-map-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvbW50L1N0b3JhZ2UvUHJvamVjdHMvdGhlbWVkLXN0eWxlZC1jb21wb25lbnRzL25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICIvbW50L1N0b3JhZ2UvUHJvamVjdHMvdGhlbWVkLXN0eWxlZC1jb21wb25lbnRzL25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICIvbW50L1N0b3JhZ2UvUHJvamVjdHMvdGhlbWVkLXN0eWxlZC1jb21wb25lbnRzL25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllcyI7CnZhciBfanN4RmlsZU5hbWUgPSAiL21udC9TdG9yYWdlL1Byb2plY3RzL3RoZW1lZC1zdHlsZWQtY29tcG9uZW50cy9zcmMvTm90aWZ5L05vdGlmeS5qcyI7CgooZnVuY3Rpb24gKCkgewogIHZhciBlbnRlck1vZHVsZSA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmVudGVyTW9kdWxlOwogIGVudGVyTW9kdWxlICYmIGVudGVyTW9kdWxlKG1vZHVsZSk7Cn0pKCk7CgppbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnOwppbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJzsKaW1wb3J0IHsgTm90aWZpY2F0aW9ucyB9IGZyb20gJy4vTm90aWZpY2F0aW9ucyc7CmltcG9ydCBkaWZmZXJlbmNlIGZyb20gJ2xvZGFzaC9kaWZmZXJlbmNlJzsKaW1wb3J0IGN1aWQgZnJvbSAnY3VpZCc7CmV4cG9ydCB2YXIgTm90aWZ5Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoKTsKCmlmICh0eXBlb2YgTm90aWZ5Q29udGV4dCAhPT0gJ3VuZGVmaW5lZCcgJiYgTm90aWZ5Q29udGV4dCAmJiBOb3RpZnlDb250ZXh0ID09PSBPYmplY3QoTm90aWZ5Q29udGV4dCkgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShOb3RpZnlDb250ZXh0KSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb3RpZnlDb250ZXh0LCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiTm90aWZ5Q29udGV4dCIsCiAgICAgIGZpbGVuYW1lOiAic3JjL05vdGlmeS9Ob3RpZnkuanMiCiAgICB9CiAgfSk7Cn0KCmV4cG9ydCB2YXIgTm90aWZ5ID0gZnVuY3Rpb24gTm90aWZ5KF9yZWYpIHsKICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLAogICAgICBtZXNzYWdlcyA9IF9yZWYubWVzc2FnZXMsCiAgICAgIHRpbWVvdXQgPSBfcmVmLnRpbWVvdXQsCiAgICAgIHRoZW1lZCA9IF9yZWYudGhlbWVkLAogICAgICBwcm9wc1Jlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgWyJjaGlsZHJlbiIsICJtZXNzYWdlcyIsICJ0aW1lb3V0IiwgInRoZW1lZCJdKTsKCiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKFtdKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIG5vdGlmaWNhdGlvbnMgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXROb3RpZmljYXRpb25zID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIG5ld05vdGlmaWNhdGlvbnNSZWYgPSB1c2VSZWYoW10pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICB2YXIgX25vdGlmaWNhdGlvbiA9IGNoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZDogY2hpbGQua2V5LAogICAgICAgIGNvbXBvbmVudDogY2hpbGQKICAgICAgfTsKICAgIH0pOwoKICAgIG5ld05vdGlmaWNhdGlvbnNSZWYuY3VycmVudCA9IGRpZmZlcmVuY2UoX25vdGlmaWNhdGlvbiwgbm90aWZpY2F0aW9ucyk7CiAgICBzZXROb3RpZmljYXRpb25zKFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobm90aWZpY2F0aW9ucyksIF90b0NvbnN1bWFibGVBcnJheShuZXdOb3RpZmljYXRpb25zUmVmLmN1cnJlbnQpKSk7CiAgfSwgW2NoaWxkcmVuXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIHZhciByZW1vdmVOb3RpZmljYXRpb25XaXRoVGltZW91dCA9IGZ1bmN0aW9uIHJlbW92ZU5vdGlmaWNhdGlvbldpdGhUaW1lb3V0KCkgewogICAgICBzZXROb3RpZmljYXRpb25zKG5vdGlmaWNhdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHsKICAgICAgICByZXR1cm4gIW5ld05vdGlmaWNhdGlvbnNSZWYuY3VycmVudC5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgIHJldHVybiBuLmlkID09PSBub3RpZmljYXRpb24uaWQ7CiAgICAgICAgfSk7CiAgICAgIH0pKTsKICAgIH07CgogICAgc2V0VGltZW91dChyZW1vdmVOb3RpZmljYXRpb25XaXRoVGltZW91dCwgdGltZW91dCk7CiAgfSwgW25ld05vdGlmaWNhdGlvbnNSZWYuY3VycmVudCwgdGltZW91dF0pOwogIHZhciBjb250ZXh0ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBub3RpZmljYXRpb25zOiBub3RpZmljYXRpb25zLAogICAgICBzZXROb3RpZmljYXRpb25zOiBzZXROb3RpZmljYXRpb25zCiAgICB9OwogIH0sIFtub3RpZmljYXRpb25zXSk7CiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTm90aWZ5Q29udGV4dC5Qcm92aWRlciwgewogICAgY29uc3Q6IHRydWUsCiAgICB2YWx1ZTogY29udGV4dCwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDUyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChOb3RpZmljYXRpb25zLCBPYmplY3QuYXNzaWduKHsKICAgIHRoZW1lZDogdGhlbWVkLAogICAgbm90aWZpY2F0aW9uOiBub3RpZmljYXRpb25zCiAgfSwgcHJvcHNSZXN0LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1MwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pKSk7Cn07CgppZiAodHlwZW9mIE5vdGlmeSAhPT0gJ3VuZGVmaW5lZCcgJiYgTm90aWZ5ICYmIE5vdGlmeSA9PT0gT2JqZWN0KE5vdGlmeSkgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShOb3RpZnkpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGlmeSwgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogIk5vdGlmeSIsCiAgICAgIGZpbGVuYW1lOiAic3JjL05vdGlmeS9Ob3RpZnkuanMiCiAgICB9CiAgfSk7Cn0KCk5vdGlmeS5wcm9wVHlwZXMgPSB7CiAgbWVzc2FnZXM6IFByb3BUeXBlcy5hcnJheSwKICB0aW1lb3V0OiBQcm9wVHlwZXMubnVtYmVyCn07Ck5vdGlmeS5kZWZhdWx0UHJvcHMgPSB7CiAgbWVzc2FnZXM6IFtdLAogIHRpbWVvdXQ6IDEwMDAwLAogIHRoZW1lZDogW10KfTsKdmFyIF9kZWZhdWx0ID0gTm90aWZ5OwpleHBvcnQgZGVmYXVsdCBfZGVmYXVsdDsKCmlmICh0eXBlb2YgTm90aWZ5ICE9PSAndW5kZWZpbmVkJyAmJiBOb3RpZnkgJiYgTm90aWZ5ID09PSBPYmplY3QoTm90aWZ5KSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKE5vdGlmeSkpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90aWZ5LCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiTm90aWZ5IiwKICAgICAgZmlsZW5hbWU6ICJzcmMvTm90aWZ5L05vdGlmeS5qcyIKICAgIH0KICB9KTsKfQoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5kZWZhdWx0OwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihOb3RpZnlDb250ZXh0LCAiTm90aWZ5Q29udGV4dCIsICIvbW50L1N0b3JhZ2UvUHJvamVjdHMvdGhlbWVkLXN0eWxlZC1jb21wb25lbnRzL3NyYy9Ob3RpZnkvTm90aWZ5LmpzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoTm90aWZ5LCAiTm90aWZ5IiwgIi9tbnQvU3RvcmFnZS9Qcm9qZWN0cy90aGVtZWQtc3R5bGVkLWNvbXBvbmVudHMvc3JjL05vdGlmeS9Ob3RpZnkuanMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihfZGVmYXVsdCwgImRlZmF1bHQiLCAiL21udC9TdG9yYWdlL1Byb2plY3RzL3RoZW1lZC1zdHlsZWQtY29tcG9uZW50cy9zcmMvTm90aWZ5L05vdGlmeS5qcyIpOwp9KSgpOwoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgbGVhdmVNb2R1bGUgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5sZWF2ZU1vZHVsZTsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["/mnt/Storage/Projects/themed-styled-components/src/Notify/Notify.js"],"names":["React","useContext","useEffect","useMemo","useRef","useState","PropTypes","styled","Notifications","difference","cuid","NotifyContext","createContext","Notify","children","messages","timeout","themed","propsRest","notifications","setNotifications","newNotificationsRef","_notification","map","child","id","key","component","current","removeNotificationWithTimeout","filter","notification","n","setTimeout","context","propTypes","array","number","defaultProps"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useMemo, useRef, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { Notifications } from './Notifications'\nimport difference from 'lodash/difference'\nimport cuid from 'cuid'\n\nexport const NotifyContext = React.createContext()\n\nexport const Notify = function Notify({\n  children,\n  messages,\n  timeout,\n  themed,\n  ...propsRest\n}) {\n  const [notifications, setNotifications] = useState([])\n  const newNotificationsRef = useRef([])\n\n  useEffect(() => {\n    const _notification = children.map(child => ({\n      id: child.key,\n      component: child,\n    }))\n\n    newNotificationsRef.current = difference(_notification, notifications)\n    setNotifications([...notifications, ...newNotificationsRef.current])\n  }, [children])\n\n  useEffect(() => {\n    const removeNotificationWithTimeout = () => {\n      setNotifications(\n        notifications.filter(\n          notification =>\n            !newNotificationsRef.current.filter(n => n.id === notification.id)\n        )\n      )\n    }\n\n    setTimeout(removeNotificationWithTimeout, timeout)\n  }, [newNotificationsRef.current, timeout])\n\n  const context = useMemo(\n    () => ({\n      notifications,\n      setNotifications,\n    }),\n    [notifications]\n  )\n\n  return (\n    <NotifyContext.Provider const value={context}>\n      <Notifications\n        themed={themed}\n        notification={notifications}\n        {...propsRest}\n      />\n    </NotifyContext.Provider>\n  )\n}\n\nNotify.propTypes = {\n  messages: PropTypes.array,\n  timeout: PropTypes.number,\n}\n\nNotify.defaultProps = {\n  messages: [],\n  timeout: 10000,\n  themed: [],\n}\n\nexport default Notify\n"]}]}