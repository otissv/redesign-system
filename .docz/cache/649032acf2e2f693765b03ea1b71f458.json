{"remainingRequest":"/mnt/Storage/Projects/redesign/node_modules/thread-loader/dist/cjs.js??ref--11-1!/mnt/Storage/Projects/redesign/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--11-2!/mnt/Storage/Projects/redesign/node_modules/source-map-loader/index.js!/mnt/Storage/Projects/redesign/src/reusable/devtools/devtools.ts","dependencies":[{"path":"/mnt/Storage/Projects/redesign/src/reusable/devtools/devtools.ts","mtime":1561625628640},{"path":"/mnt/Storage/Projects/redesign/node_modules/cache-loader/dist/cjs.js","mtime":1558371898492},{"path":"/mnt/Storage/Projects/redesign/node_modules/thread-loader/dist/cjs.js","mtime":1555245588536},{"path":"/mnt/Storage/Projects/redesign/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1558369220865},{"path":"/mnt/Storage/Projects/redesign/node_modules/source-map-loader/index.js","mtime":1550658762472}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9tbnQvU3RvcmFnZS9Qcm9qZWN0cy9yZWRlc2lnbi9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CgooZnVuY3Rpb24gKCkgewogIHZhciBlbnRlck1vZHVsZSA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmVudGVyTW9kdWxlOwogIGVudGVyTW9kdWxlICYmIGVudGVyTW9kdWxlKG1vZHVsZSk7Cn0pKCk7Cgp2YXIgX19zaWduYXR1cmVfXyA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbFsiZGVmYXVsdCJdLnNpZ25hdHVyZSA6IGZ1bmN0aW9uIChhKSB7CiAgcmV0dXJuIGE7Cn07CgppbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7CmV4cG9ydCBmdW5jdGlvbiB1c2VEZXZ0b29scyhfcmVmLCBpbml0aWFsU3RhdGUsIG5hbWUsIHJlZHVjZXIpIHsKICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSwKICAgICAgc3RhdGUgPSBfcmVmMlswXSwKICAgICAgZGlzcGF0Y2ggPSBfcmVmMlsxXTsKCiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKCksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBkZXZ0b29scyA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldERldnRvb2xzID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIHNraXBwZWRBY3Rpb25JZHMgPSB1c2VSZWYoW10pOwogIHZhciBzdGFnZWRBY3Rpb25zID0gdXNlUmVmKFtdKTsgLy8gQ2hlY2sgaWYgZXh0ZW5zaW9uIGlzIGxvYWRlZAoKICB2YXIgd2l0aERldnRvb2xzID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Ll9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX187IC8vIFRvZ2dsZSBza2lwcGVkIGFjdGlvbgoKICBmdW5jdGlvbiB0b2dnbGVBY3Rpb24oX3JlZjMpIHsKICAgIHZhciBpZCA9IF9yZWYzLmlkLAogICAgICAgIHN0YXRlID0gX3JlZjMuc3RhdGU7CiAgICB2YXIgbGlmdGVkU3RhdGUgPSBKU09OLnBhcnNlKHN0YXRlKTsKICAgIHZhciBpZHggPSBza2lwcGVkQWN0aW9uSWRzLmN1cnJlbnQuaW5kZXhPZihpZCk7CiAgICB2YXIgc2tpcHBlZCA9IGlkeCAhPT0gLTE7IC8vIFRvZ2dsZSBhY3Rpb24gaW4gZGV2IHRvb2xzIHVpCgogICAgaWYgKHNraXBwZWQpIHsKICAgICAgc2tpcHBlZEFjdGlvbklkcy5jdXJyZW50LnNwbGljZShpZHgsIDEpOwogICAgICBsaWZ0ZWRTdGF0ZS5za2lwcGVkQWN0aW9uSWRzID0gc2tpcHBlZEFjdGlvbklkcy5jdXJyZW50OwogICAgfSBlbHNlIHsKICAgICAgc2tpcHBlZEFjdGlvbklkcy5jdXJyZW50LnB1c2goaWQpOwogICAgICBsaWZ0ZWRTdGF0ZS5za2lwcGVkQWN0aW9uSWRzID0gc2tpcHBlZEFjdGlvbklkcy5jdXJyZW50OwogICAgfQoKICAgIHJldHVybiBsaWZ0ZWRTdGF0ZTsKICB9CgogIGZ1bmN0aW9uIHN1YnNjcmliZVJlZHVjZXIobWVzc2FnZSkgewogICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ0RJU1BBVENIJykgewogICAgICBzd2l0Y2ggKG1lc3NhZ2UucGF5bG9hZC50eXBlKSB7CiAgICAgICAgY2FzZSAnQ09NTUlUJzoKICAgICAgICAgIHsKICAgICAgICAgICAgcmVkdWNlcih7CiAgICAgICAgICAgICAgdHlwZTogJ0NPTU1JVCcsCiAgICAgICAgICAgICAgcGF5bG9hZDogbnVsbAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICBjYXNlICdJTVBPUlRfU1RBVEUnOgogICAgICAgICAgewogICAgICAgICAgICB2YXIgbmV4dExpZnRlZFN0YXRlID0gbWVzc2FnZS5wYXlsb2FkLm5leHRMaWZ0ZWRTdGF0ZTsKICAgICAgICAgICAgdmFyIGNvbXB1dGVkU3RhdGVzID0gbmV4dExpZnRlZFN0YXRlLmNvbXB1dGVkU3RhdGVzOwogICAgICAgICAgICByZWR1Y2VyKHsKICAgICAgICAgICAgICB0eXBlOiAnSU1QT1JUX1NUQVRFJywKICAgICAgICAgICAgICBwYXlsb2FkOiBjb21wdXRlZFN0YXRlc1tjb21wdXRlZFN0YXRlcy5sZW5ndGggLSAxXS5zdGF0ZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZGV2dG9vbHMuc2VuZChudWxsLCBuZXh0TGlmdGVkU3RhdGUpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgIGNhc2UgJ0pVTVBfVE9fU1RBVEUnOgogICAgICAgICAgcmVkdWNlcih7CiAgICAgICAgICAgIHR5cGU6ICdKVU1QX1RPX0FDVElPTicsCiAgICAgICAgICAgIHBheWxvYWQ6IEpTT04ucGFyc2UobWVzc2FnZS5zdGF0ZSkKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuOwoKICAgICAgICBjYXNlICdKVU1QX1RPX0FDVElPTic6CiAgICAgICAgICB7CiAgICAgICAgICAgIHJlZHVjZXIoewogICAgICAgICAgICAgIHR5cGU6ICdKVU1QX1RPX0FDVElPTicsCiAgICAgICAgICAgICAgcGF5bG9hZDogSlNPTi5wYXJzZShtZXNzYWdlLnN0YXRlKQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICBjYXNlICdSRVNFVCc6CiAgICAgICAgICB7CiAgICAgICAgICAgIGRldnRvb2xzLmluaXQoaW5pdGlhbFN0YXRlKTsKICAgICAgICAgICAgcmVkdWNlcih7CiAgICAgICAgICAgICAgdHlwZTogJ1JFU0VUJywKICAgICAgICAgICAgICBwYXlsb2FkOiBpbml0aWFsU3RhdGUKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgY2FzZSAnUk9MTEJBQ0snOgogICAgICAgICAgewogICAgICAgICAgICBkZXZ0b29scy5pbml0KEpTT04ucGFyc2UobWVzc2FnZS5zdGF0ZSkpOwogICAgICAgICAgICByZWR1Y2VyKHsKICAgICAgICAgICAgICB0eXBlOiAnUk9MTEJBQ0snLAogICAgICAgICAgICAgIHBheWxvYWQ6IEpTT04ucGFyc2UobWVzc2FnZS5zdGF0ZSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgY2FzZSAnU1dFRVAnOgogICAgICAgICAgewogICAgICAgICAgICByZWR1Y2VyKHsKICAgICAgICAgICAgICB0eXBlOiAnU1dFRVAnLAogICAgICAgICAgICAgIHBheWxvYWQ6IG51bGwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgY2FzZSAnVE9HR0xFX0FDVElPTic6CiAgICAgICAgICB7CiAgICAgICAgICAgIHZhciBsaWZ0ZWRTdGF0ZSA9IHRvZ2dsZUFjdGlvbih7CiAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UucGF5bG9hZC5pZCwKICAgICAgICAgICAgICBzdGF0ZTogbWVzc2FnZS5zdGF0ZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZGV2dG9vbHMuc2VuZChudWxsLCBsaWZ0ZWRTdGF0ZSk7IC8vIFJlc2V0IHN0YXRlCgogICAgICAgICAgICBkaXNwYXRjaChpbml0aWFsU3RhdGUpOyAvLyBEaXNwYXRjaCBub24gc2tpcHBlZCBhY3Rpb24KCiAgICAgICAgICAgIHN0YWdlZEFjdGlvbnMuY3VycmVudC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICAgIHNraXBwZWRBY3Rpb25JZHMuY3VycmVudC5pbmRleE9mKGluZGV4ICsgMSkgPT09IC0xICYmIGRpc3BhdGNoKGl0ZW0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmVkdWNlcih7CiAgICAgICAgICAgICAgdHlwZTogJ1RPR0dMRV9BQ1RJT04nLAogICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLnBheWxvYWQuaWQsCiAgICAgICAgICAgICAgICBzdGF0ZTogSlNPTi5wYXJzZShtZXNzYWdlLnN0YXRlKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybjsKICAgICAgfQogICAgfQogIH0KCiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aXRoRGV2dG9vbHMgJiYgIWRldnRvb2xzKSB7CiAgICAgIC8vIENvbm5lY3QgdG8gZGV2IHRvb2xzCiAgICAgIHNldERldnRvb2xzKHdpdGhEZXZ0b29scy5jb25uZWN0KHsKICAgICAgICBuYW1lOiBuYW1lCiAgICAgIH0pKTsKICAgIH0KCiAgICBpZiAoZGV2dG9vbHMpIHsKICAgICAgLy8gU2V0IGluaXRpYWwgdmFsdWUKICAgICAgZGV2dG9vbHMuaW5pdChzdGF0ZSk7IC8vIFN1YnNjcmliZSB0byBkZXYgdG9vbHMgbWVzc2FnZXMKCiAgICAgIGRldnRvb2xzLnN1YnNjcmliZShzdWJzY3JpYmVSZWR1Y2VyKTsKICAgIH0KICB9LCBbZGV2dG9vbHNdKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKGRldnRvb2xzKSB7CiAgICAgIHZhciBkZXZTdGF0ZSA9IHN0YWdlZEFjdGlvbnMuY3VycmVudFtzdGFnZWRBY3Rpb25zLmN1cnJlbnQubGVuZ3RoIC0gMV07CiAgICAgIGRldlN0YXRlLnR5cGUgPyBkZXZ0b29scy5zZW5kKGRldlN0YXRlLnR5cGUsIHN0YXRlKSA6IGRldnRvb2xzLnNlbmQobmFtZSA/ICJbIi5jb25jYXQobmFtZSwgIl0gVVBEQVRFIikgOiAnVVBEQVRFJywgZGV2U3RhdGUpOwogICAgfQogIH0sIFtzdGFnZWRBY3Rpb25zLmN1cnJlbnRbc3RhZ2VkQWN0aW9ucy5jdXJyZW50Lmxlbmd0aCAtIDFdXSk7CiAgcmV0dXJuIFtzdGF0ZSwgZnVuY3Rpb24gKHByb3BzKSB7CiAgICBzdGFnZWRBY3Rpb25zLmN1cnJlbnQucHVzaChwcm9wcyk7CiAgICBkaXNwYXRjaChwcm9wcyk7CiAgfV07Cn0KCl9fc2lnbmF0dXJlX18odXNlRGV2dG9vbHMsICJ1c2VTdGF0ZXtbZGV2dG9vbHMsIHNldERldnRvb2xzXX1cbnVzZVJlZntza2lwcGVkQWN0aW9uSWRzfVxudXNlUmVme3N0YWdlZEFjdGlvbnN9XG51c2VFZmZlY3R7fVxudXNlRWZmZWN0e30iKTsKCmlmICh0eXBlb2YgdXNlRGV2dG9vbHMgIT09ICd1bmRlZmluZWQnICYmIHVzZURldnRvb2xzICYmIHVzZURldnRvb2xzID09PSBPYmplY3QodXNlRGV2dG9vbHMpICYmIE9iamVjdC5pc0V4dGVuc2libGUodXNlRGV2dG9vbHMpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHVzZURldnRvb2xzLCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAidXNlRGV2dG9vbHMiLAogICAgICBmaWxlbmFtZTogInNyYy9yZXVzYWJsZS9kZXZ0b29scy9kZXZ0b29scy50cyIKICAgIH0KICB9KTsKfQoKZXhwb3J0IGZ1bmN0aW9uIHVzZVJlZHVjZXJEZXZ0b29scyhfcmVmNCwgaW5pdGlhbFN0YXRlLCBuYW1lKSB7CiAgdmFyIF9yZWY1ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjQsIDIpLAogICAgICBzdGF0ZSA9IF9yZWY1WzBdLAogICAgICBkaXNwYXRjaCA9IF9yZWY1WzFdOwoKICBmdW5jdGlvbiByZWR1Y2VyKGFjdGlvbikgewogICAgc3dpdGNoIChhY3Rpb24udHlwZSkgewogICAgICBjYXNlICdJTVBPUlRfU1RBVEUnOgogICAgICBjYXNlICdKVU1QX1RPX1NUQVRFJzoKICAgICAgY2FzZSAnSlVNUF9UT19BQ1RJT04nOgogICAgICBjYXNlICdSRVNFVCc6CiAgICAgIGNhc2UgJ1JPTExCQUNLJzoKICAgICAgICBkaXNwYXRjaChhY3Rpb24ucGF5bG9hZCk7CiAgICAgICAgcmV0dXJuOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZXR1cm47CiAgICB9CiAgfQoKICByZXR1cm4gdXNlRGV2dG9vbHMoW3N0YXRlLCBkaXNwYXRjaF0sIGluaXRpYWxTdGF0ZSwgbmFtZSwgcmVkdWNlcik7Cn0KCl9fc2lnbmF0dXJlX18odXNlUmVkdWNlckRldnRvb2xzLCAidXNlRGV2dG9vbHN7fSIsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gW3VzZURldnRvb2xzXTsKfSk7CgppZiAodHlwZW9mIHVzZVJlZHVjZXJEZXZ0b29scyAhPT0gJ3VuZGVmaW5lZCcgJiYgdXNlUmVkdWNlckRldnRvb2xzICYmIHVzZVJlZHVjZXJEZXZ0b29scyA9PT0gT2JqZWN0KHVzZVJlZHVjZXJEZXZ0b29scykgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZSh1c2VSZWR1Y2VyRGV2dG9vbHMpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHVzZVJlZHVjZXJEZXZ0b29scywgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogInVzZVJlZHVjZXJEZXZ0b29scyIsCiAgICAgIGZpbGVuYW1lOiAic3JjL3JldXNhYmxlL2RldnRvb2xzL2RldnRvb2xzLnRzIgogICAgfQogIH0pOwp9CgpleHBvcnQgZnVuY3Rpb24gdXNlU3RhdGVEZXZ0b29scyhfcmVmNiwgaW5pdGlhbFN0YXRlLCBuYW1lKSB7CiAgdmFyIF9yZWY3ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjYsIDIpLAogICAgICBzdGF0ZSA9IF9yZWY3WzBdLAogICAgICBkaXNwYXRjaCA9IF9yZWY3WzFdOwoKICBmdW5jdGlvbiByZWR1Y2VyKGFjdGlvbikgewogICAgc3dpdGNoIChhY3Rpb24udHlwZSkgewogICAgICBjYXNlICdJTVBPUlRfU1RBVEUnOgogICAgICBjYXNlICdKVU1QX1RPX1NUQVRFJzoKICAgICAgY2FzZSAnSlVNUF9UT19BQ1RJT04nOgogICAgICBjYXNlICdSRVNFVCc6CiAgICAgIGNhc2UgJ1JPTExCQUNLJzoKICAgICAgICBkaXNwYXRjaChhY3Rpb24ucGF5bG9hZCk7CiAgICAgICAgcmV0dXJuOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZXR1cm47CiAgICB9CiAgfQoKICByZXR1cm4gdXNlRGV2dG9vbHMoW3N0YXRlLCBkaXNwYXRjaF0sIGluaXRpYWxTdGF0ZSwgbmFtZSwgcmVkdWNlcik7Cn0KCl9fc2lnbmF0dXJlX18odXNlU3RhdGVEZXZ0b29scywgInVzZURldnRvb2xze30iLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIFt1c2VEZXZ0b29sc107Cn0pOwoKaWYgKHR5cGVvZiB1c2VTdGF0ZURldnRvb2xzICE9PSAndW5kZWZpbmVkJyAmJiB1c2VTdGF0ZURldnRvb2xzICYmIHVzZVN0YXRlRGV2dG9vbHMgPT09IE9iamVjdCh1c2VTdGF0ZURldnRvb2xzKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKHVzZVN0YXRlRGV2dG9vbHMpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHVzZVN0YXRlRGV2dG9vbHMsICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJ1c2VTdGF0ZURldnRvb2xzIiwKICAgICAgZmlsZW5hbWU6ICJzcmMvcmV1c2FibGUvZGV2dG9vbHMvZGV2dG9vbHMudHMiCiAgICB9CiAgfSk7Cn0KCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIHJlYWN0SG90TG9hZGVyID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkuZGVmYXVsdDsKCiAgaWYgKCFyZWFjdEhvdExvYWRlcikgewogICAgcmV0dXJuOwogIH0KCiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIodXNlRGV2dG9vbHMsICJ1c2VEZXZ0b29scyIsICIvbW50L1N0b3JhZ2UvUHJvamVjdHMvcmVkZXNpZ24vc3JjL3JldXNhYmxlL2RldnRvb2xzL2RldnRvb2xzLnRzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIodXNlUmVkdWNlckRldnRvb2xzLCAidXNlUmVkdWNlckRldnRvb2xzIiwgIi9tbnQvU3RvcmFnZS9Qcm9qZWN0cy9yZWRlc2lnbi9zcmMvcmV1c2FibGUvZGV2dG9vbHMvZGV2dG9vbHMudHMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3Rlcih1c2VTdGF0ZURldnRvb2xzLCAidXNlU3RhdGVEZXZ0b29scyIsICIvbW50L1N0b3JhZ2UvUHJvamVjdHMvcmVkZXNpZ24vc3JjL3JldXNhYmxlL2RldnRvb2xzL2RldnRvb2xzLnRzIik7Cn0pKCk7Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciBsZWF2ZU1vZHVsZSA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmxlYXZlTW9kdWxlOwogIGxlYXZlTW9kdWxlICYmIGxlYXZlTW9kdWxlKG1vZHVsZSk7Cn0pKCk7"},{"version":3,"sources":["/mnt/Storage/Projects/redesign/src/reusable/devtools/devtools.ts"],"names":["useState","useEffect","useRef","useDevtools","initialState","name","reducer","state","dispatch","devtools","setDevtools","skippedActionIds","stagedActions","withDevtools","window","__REDUX_DEVTOOLS_EXTENSION__","toggleAction","id","liftedState","JSON","parse","idx","current","indexOf","skipped","splice","push","subscribeReducer","message","type","payload","nextLiftedState","computedStates","length","send","init","forEach","item","index","connect","subscribe","devState","props","useReducerDevtools","action","useStateDevtools"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\ndeclare global {\n  interface Window {\n    __REDUX_DEVTOOLS_EXTENSION__?: any;\n  }\n}\n\nexport function useDevtools([state, dispatch], initialState, name, reducer) {\n  const [devtools, setDevtools] = useState();\n  const skippedActionIds = useRef([]);\n  const stagedActions = useRef([]);\n\n  // Check if extension is loaded\n  const withDevtools =\n    typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n\n  // Toggle skipped action\n  function toggleAction({ id, state }) {\n    const liftedState = JSON.parse(state);\n    const idx = skippedActionIds.current.indexOf(id);\n    const skipped = idx !== -1;\n\n    // Toggle action in dev tools ui\n    if (skipped) {\n      skippedActionIds.current.splice(idx, 1);\n      liftedState.skippedActionIds = skippedActionIds.current;\n    } else {\n      skippedActionIds.current.push(id);\n      liftedState.skippedActionIds = skippedActionIds.current;\n    }\n    return liftedState;\n  }\n\n  function subscribeReducer(message) {\n    if (message.type === 'DISPATCH') {\n      switch (message.payload.type) {\n        case 'COMMIT': {\n          reducer({ type: 'COMMIT', payload: null });\n          return;\n        }\n        case 'IMPORT_STATE': {\n          const { nextLiftedState } = message.payload;\n          const { computedStates } = nextLiftedState;\n          reducer({\n            type: 'IMPORT_STATE',\n            payload: computedStates[computedStates.length - 1].state,\n          });\n          devtools.send(null, nextLiftedState);\n          return;\n        }\n        case 'JUMP_TO_STATE':\n          reducer({\n            type: 'JUMP_TO_ACTION',\n            payload: JSON.parse(message.state),\n          });\n          return;\n        case 'JUMP_TO_ACTION': {\n          reducer({\n            type: 'JUMP_TO_ACTION',\n            payload: JSON.parse(message.state),\n          });\n          return;\n        }\n        case 'RESET': {\n          devtools.init(initialState);\n          reducer({ type: 'RESET', payload: initialState });\n          return;\n        }\n        case 'ROLLBACK': {\n          devtools.init(JSON.parse(message.state));\n          reducer({ type: 'ROLLBACK', payload: JSON.parse(message.state) });\n          return;\n        }\n        case 'SWEEP': {\n          reducer({ type: 'SWEEP', payload: null });\n          return;\n        }\n        case 'TOGGLE_ACTION': {\n          const liftedState = toggleAction({\n            id: message.payload.id,\n            state: message.state,\n          });\n          devtools.send(null, liftedState);\n\n          // Reset state\n          dispatch(initialState);\n\n          // Dispatch non skipped action\n          stagedActions.current.forEach((item, index) => {\n            skippedActionIds.current.indexOf(index + 1) === -1 &&\n              dispatch(item);\n          });\n\n          reducer({\n            type: 'TOGGLE_ACTION',\n            payload: {\n              id: message.payload.id,\n              state: JSON.parse(message.state),\n            },\n          });\n\n          return;\n        }\n\n        default:\n          return;\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (withDevtools && !devtools) {\n      // Connect to dev tools\n      setDevtools(\n        withDevtools.connect({\n          name,\n        })\n      );\n    }\n\n    if (devtools) {\n      // Set initial value\n      devtools.init(state);\n\n      // Subscribe to dev tools messages\n      devtools.subscribe(subscribeReducer);\n    }\n  }, [devtools]);\n\n  useEffect(() => {\n    if (devtools) {\n      const devState = stagedActions.current[stagedActions.current.length - 1];\n\n      devState.type\n        ? devtools.send(devState.type, state)\n        : devtools.send(name ? `[${name}] UPDATE` : 'UPDATE', devState);\n    }\n  }, [stagedActions.current[stagedActions.current.length - 1]]);\n\n  return [\n    state,\n    props => {\n      stagedActions.current.push(props);\n      dispatch(props);\n    },\n  ];\n}\n\nexport function useReducerDevtools([state, dispatch], initialState, name) {\n  function reducer(action) {\n    switch (action.type) {\n      case 'IMPORT_STATE':\n      case 'JUMP_TO_STATE':\n      case 'JUMP_TO_ACTION':\n      case 'RESET':\n      case 'ROLLBACK':\n        dispatch(action.payload);\n        return;\n      default:\n        return;\n    }\n  }\n\n  return useDevtools([state, dispatch], initialState, name, reducer);\n}\n\nexport function useStateDevtools([state, dispatch], initialState, name) {\n  function reducer(action) {\n    switch (action.type) {\n      case 'IMPORT_STATE':\n      case 'JUMP_TO_STATE':\n      case 'JUMP_TO_ACTION':\n      case 'RESET':\n      case 'ROLLBACK':\n        dispatch(action.payload);\n        return;\n      default:\n        return;\n    }\n  }\n\n  return useDevtools([state, dispatch], initialState, name, reducer);\n}\n"]}]}