{"remainingRequest":"/mnt/Storage/Projects/themed-styled-components/node_modules/thread-loader/dist/cjs.js??ref--5-1!/mnt/Storage/Projects/themed-styled-components/node_modules/babel-loader/lib/index.js??ref--5-2!/mnt/Storage/Projects/themed-styled-components/node_modules/source-map-loader/index.js!/mnt/Storage/Projects/themed-styled-components/src/Base/Base.js","dependencies":[{"path":"/mnt/Storage/Projects/themed-styled-components/src/Base/Base.js","mtime":1557350387917},{"path":"/mnt/Storage/Projects/themed-styled-components/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/Storage/Projects/themed-styled-components/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/Storage/Projects/themed-styled-components/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/Storage/Projects/themed-styled-components/node_modules/source-map-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiL21udC9TdG9yYWdlL1Byb2plY3RzL3RoZW1lZC1zdHlsZWQtY29tcG9uZW50cy9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdGFnZ2VkVGVtcGxhdGVMaXRlcmFsIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL21udC9TdG9yYWdlL1Byb2plY3RzL3RoZW1lZC1zdHlsZWQtY29tcG9uZW50cy9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkIjsKaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICIvbW50L1N0b3JhZ2UvUHJvamVjdHMvdGhlbWVkLXN0eWxlZC1jb21wb25lbnRzL25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllcyI7CnZhciBfanN4RmlsZU5hbWUgPSAiL21udC9TdG9yYWdlL1Byb2plY3RzL3RoZW1lZC1zdHlsZWQtY29tcG9uZW50cy9zcmMvQmFzZS9CYXNlLmpzIjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGVudGVyTW9kdWxlID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkuZW50ZXJNb2R1bGU7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHsKICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgICAiLCAiXG4gICAgIiwgIlxuICAgICIsICJcbiAgIl0pOwoKICBfdGVtcGxhdGVPYmplY3QgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7CiAgICByZXR1cm4gZGF0YTsKICB9OwoKICByZXR1cm4gZGF0YTsKfQoKaW1wb3J0IFJlYWN0LCB7IHVzZU1lbW8sIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7CmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7CmltcG9ydCBwb3NlZCBmcm9tICdyZWFjdC1wb3NlJzsKaW1wb3J0IHsgdXNlVGhlbWUgfSBmcm9tICcuLi9UaGVtZUNvbnRleHQnOwppbXBvcnQgeyBzaGFyZWRTdHlsZXMsIHNldFRoZW1lIH0gZnJvbSAnLi4vdXRpbHMnOwpleHBvcnQgZnVuY3Rpb24gQmFzZShfcmVmKSB7CiAgdmFyIGFuaW1hdGUgPSBfcmVmLmFuaW1hdGUsCiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbiwKICAgICAgY3NzID0gX3JlZi5jc3MsCiAgICAgIGVsID0gX3JlZi5lbCwKICAgICAgZm9yd2FyZFJlZiA9IF9yZWYuZm9yd2FyZFJlZiwKICAgICAgc3RhdGUgPSBfcmVmLnN0YXRlLAogICAgICBwcm9wc1RoZW1lID0gX3JlZi50aGVtZSwKICAgICAgdGhlbWVkID0gX3JlZi50aGVtZWQsCiAgICAgIHByb3BzUmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbImFuaW1hdGUiLCAiY2hpbGRyZW4iLCAiY3NzIiwgImVsIiwgImZvcndhcmRSZWYiLCAic3RhdGUiLCAidGhlbWUiLCAidGhlbWVkIl0pOwoKICB2YXIgX3VzZVRoZW1lID0gdXNlVGhlbWUoKSwKICAgICAgdGhlbWUgPSBfdXNlVGhlbWUudGhlbWU7CgogIHZhciBidWlsZFN0eWxlZFRoZW1lZCA9IGZ1bmN0aW9uIGJ1aWxkU3R5bGVkVGhlbWVkKHByb3BzKSB7CiAgICByZXR1cm4gdGhlbWVkLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB0aGVtZUZuKSB7CiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBhY2MsIHRoZW1lRm4ocHJvcHMpKTsKICAgIH0sIHt9KTsKICB9OwoKICB2YXIgcG9zZVJlZiA9IHVzZVJlZihwb3NlZFtlbCB8fCAnZGl2J10oYW5pbWF0ZSkpOwogIHZhciBzdHlsZWRSZWYgPSB1c2VSZWYoc3R5bGVkKHBvc2VSZWYuY3VycmVudCkoX3RlbXBsYXRlT2JqZWN0KCksIGJ1aWxkU3R5bGVkVGhlbWVkLCBzaGFyZWRTdHlsZXMsIGNzcykpOwogIHZhciBDb21wb25lbnQgPSBzdHlsZWRSZWYuY3VycmVudDsKCiAgdmFyIF90aGVtZSA9IHNldFRoZW1lKHByb3BzVGhlbWUsIHRoZW1lKTsKCiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBPYmplY3QuYXNzaWduKHsKICAgIHBvc2U6IHN0YXRlCiAgfSwgcHJvcHNSZXN0LCB7CiAgICB0aGVtZTogX3RoZW1lLAogICAgcmVmOiBmb3J3YXJkUmVmLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgY2hpbGRyZW4pOwp9CgppZiAodHlwZW9mIEJhc2UgIT09ICd1bmRlZmluZWQnICYmIEJhc2UgJiYgQmFzZSA9PT0gT2JqZWN0KEJhc2UpICYmIE9iamVjdC5pc0V4dGVuc2libGUoQmFzZSkpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZSwgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogIkJhc2UiLAogICAgICBmaWxlbmFtZTogInNyYy9CYXNlL0Jhc2UuanMiCiAgICB9CiAgfSk7Cn0KCkJhc2UuZGVmYXVsdFByb3BzID0gewogIHRoZW1lZDogW10gLy8gQmFzZS5wcm9wVHlwZXMgPSB7CiAgLy8gICBhbmltYXRlLAogIC8vICAgY2hpbGRyZW4sCiAgLy8gICBjc3MgPQogIC8vICAgZWwsCiAgLy8gICBzdGF0ZSwKICAvLyAgIHRoZW1lOiBwcm9wc1RoZW1lLAogIC8vICAgdGhlbWVkOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuZnVuYyksCiAgLy8gfQoKfTsKZXhwb3J0IHZhciBiYXNlID0gc3R5bGVkKEJhc2UpOwoKaWYgKHR5cGVvZiBiYXNlICE9PSAndW5kZWZpbmVkJyAmJiBiYXNlICYmIGJhc2UgPT09IE9iamVjdChiYXNlKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKGJhc2UpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGJhc2UsICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJiYXNlIiwKICAgICAgZmlsZW5hbWU6ICJzcmMvQmFzZS9CYXNlLmpzIgogICAgfQogIH0pOwp9Cgp2YXIgX2RlZmF1bHQgPSBCYXNlOwpleHBvcnQgZGVmYXVsdCBfZGVmYXVsdDsKCmlmICh0eXBlb2YgQmFzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgQmFzZSAmJiBCYXNlID09PSBPYmplY3QoQmFzZSkgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShCYXNlKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlLCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiQmFzZSIsCiAgICAgIGZpbGVuYW1lOiAic3JjL0Jhc2UvQmFzZS5qcyIKICAgIH0KICB9KTsKfQoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5kZWZhdWx0OwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihCYXNlLCAiQmFzZSIsICIvbW50L1N0b3JhZ2UvUHJvamVjdHMvdGhlbWVkLXN0eWxlZC1jb21wb25lbnRzL3NyYy9CYXNlL0Jhc2UuanMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihiYXNlLCAiYmFzZSIsICIvbW50L1N0b3JhZ2UvUHJvamVjdHMvdGhlbWVkLXN0eWxlZC1jb21wb25lbnRzL3NyYy9CYXNlL0Jhc2UuanMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihfZGVmYXVsdCwgImRlZmF1bHQiLCAiL21udC9TdG9yYWdlL1Byb2plY3RzL3RoZW1lZC1zdHlsZWQtY29tcG9uZW50cy9zcmMvQmFzZS9CYXNlLmpzIik7Cn0pKCk7Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciBsZWF2ZU1vZHVsZSA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmxlYXZlTW9kdWxlOwogIGxlYXZlTW9kdWxlICYmIGxlYXZlTW9kdWxlKG1vZHVsZSk7Cn0pKCk7"},{"version":3,"sources":["/mnt/Storage/Projects/themed-styled-components/src/Base/Base.js"],"names":["React","useMemo","useEffect","useRef","useState","styled","PropTypes","posed","useTheme","sharedStyles","setTheme","Base","animate","children","css","el","forwardRef","state","propsTheme","theme","themed","propsRest","buildStyledThemed","props","reduce","acc","themeFn","poseRef","styledRef","current","Component","_theme","defaultProps","base"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,OAAhB,EAAyBC,SAAzB,EAAoCC,MAApC,EAA4CC,QAA5C,QAA4D,OAA5D;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AAEA,SAASC,QAAT,QAAyB,iBAAzB;AACA,SAASC,YAAT,EAAuBC,QAAvB,QAAuC,UAAvC;AAEA,OAAO,SAASC,IAAT,OAUJ;AAAA,MATDC,OASC,QATDA,OASC;AAAA,MARDC,QAQC,QARDA,QAQC;AAAA,MAPDC,GAOC,QAPDA,GAOC;AAAA,MANDC,EAMC,QANDA,EAMC;AAAA,MALDC,UAKC,QALDA,UAKC;AAAA,MAJDC,KAIC,QAJDA,KAIC;AAAA,MAHMC,UAGN,QAHDC,KAGC;AAAA,MAFDC,MAEC,QAFDA,MAEC;AAAA,MADEC,SACF;;AAAA,kBACiBb,QAAQ,EADzB;AAAA,MACOW,KADP,aACOA,KADP;;AAED,MAAMG,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,KAAK;AAAA,WAC7BH,MAAM,CAACI,MAAP,CAAc,UAACC,GAAD,EAAMC,OAAN,EAAkB;AAC9B,+BAAYD,GAAZ,EAAoBC,OAAO,CAACH,KAAD,CAA3B;AACD,KAFD,EAEG,EAFH,CAD6B;AAAA,GAA/B;;AAKA,MAAMI,OAAO,GAAGxB,MAAM,CAACI,KAAK,CAACQ,EAAE,IAAI,KAAP,CAAL,CAAmBH,OAAnB,CAAD,CAAtB;AACA,MAAMgB,SAAS,GAAGzB,MAAM,CAACE,MAAM,CAACsB,OAAO,CAACE,OAAT,CAAP,oBACpBP,iBADoB,EAEpBb,YAFoB,EAGpBK,GAHoB,EAAxB;AAMA,MAAMgB,SAAS,GAAGF,SAAS,CAACC,OAA5B;;AACA,MAAME,MAAM,GAAGrB,QAAQ,CAACQ,UAAD,EAAaC,KAAb,CAAvB;;AAEA,SACE,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAEF;AAAjB,KAA4BI,SAA5B;AAAuC,IAAA,KAAK,EAAEU,MAA9C;AAAsD,IAAA,GAAG,EAAEf,UAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MACGH,QADH,CADF;AAKD;;;;;;;;;;;;;AAEDF,IAAI,CAACqB,YAAL,GAAoB;AAAEZ,EAAAA,MAAM,EAAE,EAAV,CAEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAVoB,CAApB;AAYA,OAAO,IAAMa,IAAI,GAAG5B,MAAM,CAACM,IAAD,CAAnB;;;;;;;;;;;;;eACQA,I;AAAf;;;;;;;;;;;;;;;;;;;;;;0BA/CgBA,I;0BA8CHsB,I","sourcesContent":["import React, { useMemo, useEffect, useRef, useState } from 'react'\nimport styled from 'styled-components'\nimport PropTypes from 'prop-types'\nimport posed from 'react-pose'\n\nimport { useTheme } from '../ThemeContext'\nimport { sharedStyles, setTheme } from '../utils'\n\nexport function Base({\n  animate,\n  children,\n  css,\n  el,\n  forwardRef,\n  state,\n  theme: propsTheme,\n  themed,\n  ...propsRest\n}) {\n  const { theme } = useTheme()\n  const buildStyledThemed = props =>\n    themed.reduce((acc, themeFn) => {\n      return { ...acc, ...themeFn(props) }\n    }, {})\n\n  const poseRef = useRef(posed[el || 'div'](animate))\n  const styledRef = useRef(styled(poseRef.current)`\n    ${buildStyledThemed}\n    ${sharedStyles}\n    ${css}\n  `)\n\n  const Component = styledRef.current\n  const _theme = setTheme(propsTheme, theme)\n\n  return (\n    <Component pose={state} {...propsRest} theme={_theme} ref={forwardRef}>\n      {children}\n    </Component>\n  )\n}\n\nBase.defaultProps = { themed: [] }\n\n// Base.propTypes = {\n//   animate,\n//   children,\n//   css =\n//   el,\n//   state,\n//   theme: propsTheme,\n//   themed: PropTypes.arrayOf(PropTypes.func),\n// }\n\nexport const base = styled(Base)\nexport default Base\n"]}]}